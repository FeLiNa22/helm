# Example values file for Penpot with password persistence
# This demonstrates how to configure the chart to use auto-generated secrets
# that persist across chart upgrades.
#
# IMPORTANT: Replace 'my-penpot' with your actual Helm release name throughout this file!

global:
  postgresqlEnabled: true
  redisEnabled: true

# PostgreSQL configuration
# The chart auto-creates a secret named: <release-name>-postgresql-auth
postgresql:
  auth:
    username: penpot
    database: penpot
    # Set this to enable password persistence (replace 'my-penpot' with your release name)
    existingSecret: "my-penpot-postgresql-auth"
    password: ""
    postgresPassword: ""

# Redis configuration  
redis:
  auth:
    enabled: true
    # Set this to enable password persistence (replace 'my-penpot' with your release name)
    existingSecret: "my-penpot-redis-auth"
    password: ""

# USAGE INSTRUCTIONS:
# 
# 1. Replace 'my-penpot' in all existingSecret fields above with your actual release name
# 2. Install the chart:
#    helm install my-penpot raulpatel/penpot -f this-file.yaml
#
# 3. The chart creates these secrets automatically:
#    - my-penpot-postgresql-auth (PostgreSQL passwords)
#    - my-penpot-redis-auth (Redis password)
#
# 4. On subsequent upgrades, passwords are automatically preserved:
#    helm upgrade my-penpot raulpatel/penpot -f this-file.yaml
#
# Note: The secrets are created using Helm's lookup function, so they persist
# across upgrades even if the chart version changes.
